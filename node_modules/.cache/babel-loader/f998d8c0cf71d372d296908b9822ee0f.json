{"ast":null,"code":"var _jsxFileName = \"/Users/jerosantamariai/Desktop/Jero/4Geeks/Day 19/todolist/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport ToDoList from './components/todolist';\nimport ToDoForm from './components/todoform';\n\nfunction App() {\n  const apiURL = \"https://assets.breatheco.de/apis/fake/todos/user/jerosantamariai\";\n  const [error, setError] = useState(null);\n  const [result, setResult] = useState(null);\n  const [done, setDone] = useState(false);\n\n  const handleKeyDown = e => {\n    if (e.keyCode === 13 && e.target.value !== \"\") {\n      //si se hace enter o es distinto de vacio se ejecuta la tarea\n      setTodo([...todos, {\n        label: e.target.value,\n        done: done !== '' ? done : false\n      }]); //agrega una tarea con lo q agregue en label y la opxion del done\n\n      e.target.value = \"\"; //despues limpio el input para poder escribir de nuevo y por eso se deja en false\n\n      setDone(false);\n    }\n  };\n\n  const handleChange = e => {\n    //si selecciono una opcion en select, se vuelve true\n    if (e.target.value === \"\") {\n      setDone(false);\n    }\n\n    if (e.target.value === \"false\") {\n      setDone(false);\n    }\n\n    if (e.target.value === \"true\") {\n      setDone(true);\n    }\n  };\n\n  const handleClickTrash = pos => {\n    // console.log(\"eliminando la posicion: \" + pos);\n    let odos = todos.splice(pos, 1); // en esa posicion eliminar 1 elemento\n\n    setTodo([...todos]);\n  };\n\n  const completeToDo = pos => {\n    todos[pos].done = !todos[pos].done;\n    setTodo([...todos]);\n  };\n\n  const getTodos = url => {\n    //recibe un url, hago la peticion fetch y si hay un error manda el data\n    fetch(url).then(resp => resp.json()).then(data => {\n      if (data.msg) {\n        setError(data);\n      }\n\n      setTodo([...data]); //para q guarde en el arreglo la variable q viene por defeecto q se definio en const [todos]\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const createTodos = url => {\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify([]),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => resp.json()).then(data => {\n      if (data.msg) {\n        setError(data);\n      }\n\n      if (data.result) // si esta el resultado, hacer un setResult de la data\n        {\n          setResult(data);\n          setError(null); // para q no muestre el error de q no existe el usuario\n\n          getTodos(apiURL); //cargar denuevo la lista\n        }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const deleteTodos = url => {\n    //\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => resp.json()).then(data => {\n      if (data.result) {\n        setResult(data);\n        setTodo([]); //cuando se hace click borra toda la lista\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const updateTodos = url => {\n    fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(todos),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(resp => resp.json()).then(data => {\n      if (data.msg) {\n        setError(data);\n      }\n\n      if (data.result) // si esta el resultado, hacer un setResult de la data\n        {\n          setResult(data);\n          setError(null); // para q no muestre el error de q no existe el usuario\n\n          getTodos(apiURL); //cargar denuevo la lista\n        }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    getTodos(apiURL);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12 d-flex justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"ToDo List\"))), !!error && React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, error.msg, React.createElement(\"div\", {\n    className: \"alert alert-warning alert-dismissible fade show\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"\\xD7\")))), !!result && React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, result.result, React.createElement(\"button\", {\n    type: \"button\",\n    class: \"close\",\n    \"data-dismiss\": \"alert\",\n    \"aria-label\": \"Close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"\\xD7\"))), React.createElement(\"div\", {\n    className: \"row pb-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block btn-sm\",\n    onClick: () => createTodos(apiURL),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, \"Crear Lista\")), React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-warning btn-block btn-sm\",\n    onClick: () => updateTodos(apiURL),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"Guardar Lista\")), React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-danger btn-block btn-sm\",\n    onClick: () => deleteTodos(apiURL),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, \"Borrar Lista\"))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(ToDoForm, {\n    handleChange: handleChange,\n    handleKeyDown: handleKeyDown,\n    done: done,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, React.createElement(ToDoList, {\n    todos: todos,\n    handleClickTrash: handleClickTrash,\n    completeToDo: completeToDo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  })))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jerosantamariai/Desktop/Jero/4Geeks/Day 19/todolist/src/App.js"],"names":["React","useState","useEffect","ToDoList","ToDoForm","App","apiURL","error","setError","result","setResult","done","setDone","handleKeyDown","e","keyCode","target","value","setTodo","todos","label","handleChange","handleClickTrash","pos","odos","splice","completeToDo","getTodos","url","fetch","then","resp","json","data","msg","catch","console","log","createTodos","method","body","JSON","stringify","headers","deleteTodos","updateTodos"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport ToDoList from './components/todolist';\nimport ToDoForm from './components/todoform';\n\nfunction App() {\n  const apiURL = \"https://assets.breatheco.de/apis/fake/todos/user/jerosantamariai\"\n\n  const [error, setError] = useState(null);\n  const [result, setResult] = useState(null);\n\n  const [done, setDone] = useState(false);\n\n  const handleKeyDown = e => {\n    if (e.keyCode === 13 && e.target.value !== \"\") { //si se hace enter o es distinto de vacio se ejecuta la tarea\n      setTodo([...todos, { label: e.target.value, done: done !== '' ? done : false }]); //agrega una tarea con lo q agregue en label y la opxion del done\n      e.target.value = \"\"; //despues limpio el input para poder escribir de nuevo y por eso se deja en false\n      setDone(false);\n    }\n  }\n\n  const handleChange = e => { //si selecciono una opcion en select, se vuelve true\n    if (e.target.value === \"\") {\n      setDone(false)\n\n    }\n    if (e.target.value === \"false\") {\n      setDone(false)\n    }\n    if (e.target.value === \"true\") {\n      setDone(true)\n    }\n  }\n\n  const handleClickTrash = pos => {\n    // console.log(\"eliminando la posicion: \" + pos);\n    let odos = todos.splice(pos, 1); // en esa posicion eliminar 1 elemento\n    setTodo([...todos]);\n  }\n\n  const completeToDo = pos => {\n    todos[pos].done = !todos[pos].done;\n    setTodo([...todos]);\n  }\n\n  const getTodos = url => { //recibe un url, hago la peticion fetch y si hay un error manda el data\n    fetch(url)\n      .then(resp => resp.json())\n      .then(data => {\n        if (data.msg) {\n          setError(data);\n        }\n        setTodo([...data]) //para q guarde en el arreglo la variable q viene por defeecto q se definio en const [todos]\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  const createTodos = url => {\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify([]),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(resp => resp.json())\n      .then(data => {\n        if (data.msg) {\n          setError(data);\n        }\n        if (data.result) // si esta el resultado, hacer un setResult de la data\n        {\n          setResult(data);\n          setError(null); // para q no muestre el error de q no existe el usuario\n          getTodos(apiURL); //cargar denuevo la lista\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  const deleteTodos = url => { //\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(resp => resp.json())\n      .then(data => {\n        if (data.result) {\n          setResult(data);\n          setTodo([]); //cuando se hace click borra toda la lista\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  const updateTodos = url => {\n    fetch(url, {\n      method: \"PUT\",\n      body: JSON.stringify(todos),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(resp => resp.json())\n      .then(data => {\n        if (data.msg) {\n          setError(data);\n        }\n        if (data.result) // si esta el resultado, hacer un setResult de la data\n        {\n          setResult(data);\n          setError(null); // para q no muestre el error de q no existe el usuario\n          getTodos(apiURL); //cargar denuevo la lista\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  useEffect(() => {\n    getTodos(apiURL);\n  }, [])\n\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-12 d-flex justify-content-center\">\n            <h1>ToDo List</h1>\n          </div>\n        </div>\n        {\n          !!error &&\n          (\n            <div className=\"alert alert-danger\" role=\"alert\">\n              {error.msg}\n              <div className=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n            </div>\n          )\n        }\n        {\n          !!result &&\n          (\n            <div className=\"alert alert-success\" role=\"alert\">\n              {result.result}\n              <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n          )\n        }\n        <div className=\"row pb-2\">\n          <div className=\"col\">\n            <button\n              className=\"btn btn-primary btn-block btn-sm\"\n              onClick={() => createTodos(apiURL)}\n            >\n              Crear Lista\n            </button>\n          </div>\n          <div className=\"col\">\n            <button\n              className=\"btn btn-warning btn-block btn-sm\"\n              onClick={() => updateTodos(apiURL)}\n            >\n              Guardar Lista\n            </button>\n          </div>\n          <div className=\"col\">\n            <button\n              className=\"btn btn-danger btn-block btn-sm\"\n              onClick={() => deleteTodos(apiURL)}\n            >\n              Borrar Lista\n            </button>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <ToDoForm handleChange={handleChange} handleKeyDown={handleKeyDown} done={done} />\n            <br />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <ToDoList todos={todos} handleClickTrash={handleClickTrash} completeToDo={completeToDo} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}